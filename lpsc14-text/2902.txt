2902.PDF
Aligning terrain model and laser altimeter point clouds with the Ames StereoPipeline Ross A. Beyer1,2, Oleg Alexandrov2,3, and Zachary Moratto2,3. 1Carl Sagan Center at the SETI Institute,2NASA Ames Research Center, MS 245-3, Moffett Field, CA, USA (Ross.A.Beyer@nasa.gov), and 3SGT, Inc.Dense digital terrain models and sparser networksof laser altimeter shots are collections of three dimensional points, or ‘point clouds.’ We often seek to understand how similar two point clouds are to one another, and so we have created a point cloud alignmenttool, pc align, to do this. The pc align programcan be found in the Ames Stereo Pipeline [1], whichis available at http://irg.arc.nasa.gov/ngt/stereo under an open source Apache 2.0 license.Planetary laser altimeter and lidar data are highly accurate, but sparse. Stereo-produced dense terrain modelscan be mis-located due to imperfect camera information.We have found that a tool which can align 3D stereo terrain to a priori known ground control points is valuablefor absolutely locating an individual terrain model. Thistool can also be used to compare two dense terrain models to each other, either to provide comparison betweenterrain models produced in different ways, or in order tomosaic the models together.The pc align program takes as input GeoTIFFDEMs, plain-text CSV files, PDS LOLA PointPerRowfiles, and ASP-output point cloud files. The first two formats allow a wide variety of data to be compared to oneanother.Iterative Closest Point MethodThe heart of the pc align tool is the use of IterativeClosest Point (ICP) techniques for aligning the two inputpoint clouds using the libpointmatcher library [2].ICP finds the best combination of rotation and translation that aligns two point clouds. One point cloud iskept fixed, while the second one is transformed to alignto it. The inputs are the the two clouds, initial alignment transform (if any), and stopping criteria (number ofiterations, minimum change in rotation and translationamounts at each iteration).The output is the combination of rotation and translation which brings the second point cloud in alignmentto the first.Algorithmically, correspondences are identified between each point in the two point clouds. Then the program finds the rotation and translation combination thatbest aligns the points in the second point cloud to its corresponding reference point in the first point cloud usinga mean squared error cost function. This transformationis then applied to the second point cloud. This processis then iteratively repeated until the stopping criteria aresatisfied.The libpointmatcher library [2] provides twovariations on the ICP approach: point-to-point and pointto-plane. So far, we have not found much difference intheir application to planetary terrains, but the point-toplane approach usually works better when there is a largerotation component needed to align the two clouds.Tool ResultsThe pc align tool solves for the transformation in theform of a spatial translation and rotation of one pointcloud to best match the other. As a part of the ICP process, once this transformation is arrived at, the errors arecalculated as the distance from each point in the firstpoint cloud to the closest point in the second. For twoidentical point clouds that are simply translated these errors would be zero (there would be a perfect match), butin normal practice, while the transformation provides ametric for ‘how far off’ one point cloud is from another,the error metrics provide a sense of how ‘different’ thetwo point clouds are from one another.By default, when pc align discards outliers during the computation of the alignment transform, it keeps75% of the points with the smallest errors, as well asother error metrics. As such, a way of judging the effectiveness of the tool is to look at the mean of the smallest75% of the errors before and after alignment.Example ApplicationsLROC DTM to LOLA This example aligns an LROCterrain model of the Apollo 15 area created by the USGSto the LOLA data. The initial 75% errors were 4.07 m,and the final errors were 2.76 m, and the best-fit motion was to translate the LROC model by 3.49 m south,13.72 m west, and 2.81 m upwards. Figure 1 shows theindividual errors of the LOLA shots against the LROCDEM, plotted on an orthoimage.CTX DTM to MOLA This example performs a similar alignment of an ASP-created CTX terrain model inGale crater with the MOLA data over the region. Figure2 shows the two sets of errors before and after alignment.CTX DTM to HRSC DTM Figure 3 shows the beforeand after alignment of the two CTX-derived DTMs toHRSC data.2902.pdf
45th Lunar and Planetary Science Conference (2014)
Figure 1: Errors of individual LOLA shots versus theUSGS DTM. Note the large differences between trackswhich show the mis-alignment of LOLA tracks themselves.Figure 2: Errors of individual MOLA shots versus theCTX-derived DTMs. Left figure is before alignment,right figure is after.LROCDTM to LROCDTM These are two examplesof comparing dense terrain models to each other. Here,we have an LROC terrain model of the Apollo 15 areacreated by ASU, and we compare a terrain model madeby the USGS and one made by the UofA to the ASUmodel. You can see that the UofA model appears tobe more different than the ASU model (and hence theUSGS model), but that’s because during the creation ofthe UofA model they only used a subset of the LOLApoints as control points that the USGS and ASU modelsused.References[1] Z. M. Moratto, M. J. Broxton, R. A. Beyer, M. Lundy,K. Husmann, Lunar and Planetary Science Conference 41,S. Mackwell, E. Stansbery, eds., no. #2364 (Lunar andPlanetary Institute, Houston, 2010).[2] F. Pomerleau, F. Colas, R. Siegwart, S. Magnenat, Autonomous Robots 34, 133 (2013).Figure 3: The left image shows obvious discontinuitiesbetween the CTX-derived terrain placed on top of theHRSC terrain. The right image shows the terrain afterthe CTX models have been aligned to the HRSC model.Figure 4: The left figure shows the error differences afterbest fit between the ASU and USGS models. The rightfigure shows the error differences after best fit betweenthe ASU and UofA models.2902.pdf
45th Lunar and Planetary Science Conference (2014)
