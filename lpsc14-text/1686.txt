1686.PDF
UTILIZING THE INTEGRATED SOFTWARE FOR IMAGERS AND SPECTROMETERS (ISIS) TO SUPPORT FUTURE MISSIONS.  L. Keszthelyi1, T. Becker1, T. Titus1, S. Sides1, L. Gaddis1, T. Hare1, R. Kirk1, K. Edmundson1, and J. Anderson1, 1U.S. Geological Survey, Astrogeology Science Center, 2255 N. Gemini Dr., Flagstaff, AZ  86001 (laz@usgs.gov).     Why Use ISIS?  The core of the ISIS software package is precision cartography, i.e., the ability to put pixels in the correct place.  This capability is used by a number of current and past missions to produce data products that can be readily combined with data from other missions, enhancing mission science return and the value of archived data.  Over >30 years, NASA has provided millions of dollars for the USGS to develop ISIS.  Any future planetary instrument or mission using ISIS leverages this heritage and funding.   ISIS Today:  The software that is now called ISIS3 has a storied history.  While a core portion is funded by NASA’s Planetary Geology and Geophysics (PGG) Program, new capabilities have been largely driven by the needs (and funding) from active NASA missions.   Current ISIS capabilities. The heart of ISIS is its ability to do “rigorous photogrammetry” which is to follow the path of photons from the target surface to the detector through mathematical “camera models.”  Initial (or a priori) information about the position and orientation of the surface, spacecraft, instrument and illumination source are typically provided via Navigation and Ancillary Information Facility (NAIF) kernels.  However, when multiple images are available, or if there is an accurate basemap, ISIS can solve for improved values of all of these parameters.  This process, called “controlling” the images, produces precision cartographic products such as projected (rectified) images.  In the past, controlled mosaics were the only end product, but today the updated NAIF kernels are often of even greater value because they enable accurate yet flexible analysis of multiple data sets [1].   Recent improvements to ISIS include the ability to control tens of thousands of very large (multi-GB) images [2], conversion of ancillary text into binary objects, and better algorithms to calculate the best-fit parameters. The current major effort focuses on the camera models.  Correctly calculating the time it takes for the photons to travel from the surface to the detector is a key goal [3], as is simplifying the process by which future spacecraft instruments are added to ISIS.   Since its heritage reaches back to when the USGS was developing some of the earliest tools for digital processing of remote sensing data, ISIS has significant image display and processing capability.  However, these capabilities are not as developed or modern as can be found in the latest versions of software such as ENVI.  Furthermore, with the exception of the qview image display environment, processing in ISIS is primarily designed for large systematic batch processing instead of interactive investigative analysis.   Instrument support in ISIS.  In order for an instrument to be supported by ISIS, custom software to ingest the science data (raw, EDR, and/or CDR) and ancillary information must be developed, in addition to the camera model.  ISIS has the infrastructure to work with framing, line-scan, frame-scan, and radar imagers and the framework for “point” instruments, such as laser altimeters, is being added.  Current work to add instruments for OSIRIS-REx and New Horizons costs a few tens of thousands of dollars per instrument.   When missions do not fund this instrument-specific software development it can be many years before the necessary funding is obtained.  This is especially challenging for long-defunct or foreign missions.  For example, Mariner 9 is not currently supported in ISIS.  The LASER Program is providing funding to add Chandrayaan-1 Moon Mineralogy Mapper (M3), as well as SELENE Kaguya Terrain Camera, Multiband Imager and Spectral Profiler data – but only years after these missions ended.  The challenges associated with non-standard or missing ancillary data greatly increase the cost of including these kinds of instruments.   Examples of current uses of ISIS.  Because ISIS is designed with a focus on systematic batch processing of image data, it is well-suited for use within a mission’s ground data processing system (GDS).  ISIS is central to the processing pipelines for both the HiRISE and LROC GDSs [4].  A combination of ISIS and BAE Systems SOCET-SET software is used to produce digital elevation models for multiple missions [e.g., 5,6] at the USGS.  ISIS is also central to the NASA Ames Stereo Pipeline and is the back-end to various USGS and PDS data services suchas the Map Projection on the Web service (POW) [7].  ISIS is also widely used in basic planetary science research.   Status of ISIS support.  Support for users of ISIS is in the 2nd year of a 4-year transition from an informal system that relied on a public discussion board and emails to a professional and transparent process [8].  Bug reports and new feature requests are tracked as tickets in the Redmine software.  Currently, this is only accessible to USGS users.   PGG provides funding to address approximately 10 large tickets and 60 small tickets per year, with a focus on fixing bugs.  Missions provide roughly half this 1686.pdf
45th Lunar and Planetary Science Conference (2014)
much, with an emphasis on adding new features.  In FY2013, 347 tickets were closed, 205 of them being bug reports.  However, during this same time, 432 new tickets were entered, including 164 new bug reports. The high rate of discovery of new bugs is a reflection of advances in testing and reporting procedures.  Improvements to the software development process are being implemented to allow faster progress in addressing the 454 currently open (and future) tickets.   Vision for the Future of ISIS:  The USGS has a strategic vision for ISIS with a focus on data fusion – the combination of disparate data types to solve a science question [8].  Data fusion requires having the different data sets in the same spatial framework.  This leads to three focus areas for future efforts:   From orbit to ground and below.  Currently ISIS is not suited to landed data, largely because it approximates topography as perturbations on a spheroid – an excellent simplification for orbital data that is inaccurate for highly irregular objects such as rocks.  However, the most recent release of ISIS includes the new ability to project onto a plane, taking a step toward solving this problem.  This new capability was driven by the needs and funding from Cassini to project ring images but can also be applied to atmospheric/limb profiles.  A more general solution based on arbitrary 3D shape models is being actively developed.  These improvements will also aid cartography for small bodies and open the door to linking sample data to global mapping.  Ultimately, we desire to include subsurface sounding in ISIS.   Plays well with other software.  It is impractical for ISIS to reproduce capabilities that other programs excel at.  While ISIS will need to retain basic image viewing and processing capabilities, our focus is on streamlining the integration of ISIS into processing pipelines that utilizes one or more other software packages.  One step is to simplify the transfer of data in and out of ISIS.  Currently several applications (e.g., IDL, ArcMap, QGIS) can directly read ISIS3 files.  However, the larger goal is to provide software “hooks” for other applications to directly utilize ISIS functions.  A community of development and support.  Effective support of the ISIS user community is essential for ISIS to be useful.  The near-term steps will be to (a) open the ticketing system to the public, (b) begin releasing beta-versions of ISIS to facilitate broader testing, and (c) developing a process to accept code contributions from outside the USGS.  Longer-term goals include improved online tutorials and new features to simplify the production of publication-ready figures.   A Smorgasbord of ISIS Support Options:  There is no single “business” model for providing ISIS support to planetary missions.  In fact, it is sometimes a misnomer to call it ISIS support because the software is only one aspect of the cartographic and scientific support the USGS provides to many missions.  We highlight three of the most common types of activities that fall under the broad heading of ISIS support.   Workshops.  The ISIS software, and the underlying cartographic and photogrammetric concepts have a steep learning curve.  The quickest way up this curve is face-to-face interaction with the most experienced ISIS users and developers.  The costs associated with holding a 2-day hands-on ISIS workshop are roughly $25K plus travel.  This funding is no longer in the USGS budget but we welcome partnerships in proposing to hold these types of workshops.  However, ISIS developers were active in the PDS Planetary Data Workshop [9] and the USGS regularly provides workshops for geologic mapping and DEM production.   Data Archiving.  ISIS maintains close ties to the PDS, with considerable infrastructure for ingesting and exporting data in archival formats.  Furthermore, including geometric and radiometric calibration routines in ISIS is an effective way to distribute these essential data processing steps to researchers across the science community.   Ground Data Systems.  Traditionally, the USGS has provided assistance for remote GDSs, with a focus on (a) radiometric and geometric calibration, (b) scripting pipeline processes, and (c) handling ancillary (e.g., SPICE) data.  However, the USGS now has the hardware to support a local GDS with dual compute clusters, ~1 PetaByte of storage, triple redundant internet and generator-ready back-up power.  Furthermore, with the USGS hosting part of the PDS imaging node, transfer of data to the PDS is very simple.  For some instrument teams, leveraging our existing infrastructure and expertise may be attractive.   Conclusion: If you plan to submit a Discovery, New Frontiers, or other mission proposal, consider including ISIS support because it will strengthen your proposal, reduce your development risk, enhance your mission science, and deliver a more useful product to the broader community.   References: [1] Fergason, R.L. et al. (2013) LPS XLIV, Abstract #1642.  [2] Edmundson, K.L. et al. (2012) Int. Annals Photogrammetry Remote Sens. Spatial Info. Sci., I-4, 203-208.  [3] Anderson, J.A., et al. (2013) LPS XLIV, Abstract #2318.  [4] Becker, K.J. et al., (2013) LPSC XLIV, Abstract #2829.  [5] Kirk, R.L., et al. (2008) JGR, 113, CiteID E00A24.  [6] Kirk, R.L. and Howington-Kraus, E. (2010) AGU Fall Meeting, Abstract #P33E-01.  [7] Hare, T. et al. (2014) LPS LXV, this volume.  [8] Keszthelyi, L. et al., (2013) LPS XLIV, Abstract #2546.  [9] Gaddis, L. et al. (2012) Eos, 93, 457.  1686.pdf
45th Lunar and Planetary Science Conference (2014)
