1088.PDF
HRSC Data Dissemination - Dynamic Queries and Data InteroperabilityS. H. G. Walter (sebastian.walter@fu-berlin.de), S. van GasseltPlanetary Science and Remote Sensing Group, Institute for Geological Sciences, Department of Earth Sciences, Freie UniversitaetBerlin, Malteserstr. 74-100, 12249 Berlin, GermanyIntroductionAfter 10 years of exploring Mars, the High ResolutionStereo Camera (HRSC, [1, 2]) has covered about 90 % ofthe surface in stereo and color with resolutions of up to12 m/pixel. Derived digital elevation models (DTMs) ofup to 50 m grid spacing cover about 40 % of the planet'ssurface [3]. The high lateral and vertical accuracy of thedata products together with a precise photogrammetricalignment to MOLA make it an unique dataset perfectlysuited for data fusion with other spectro-photometric andtopographic data from the broad range of available remote sensing instruments at Mars. Fundamental assetsfor data analysis and data fusion are spatial and temporal queries, metadata search, data download and finallythe ingestion of the data into desktop-based GeographicInformation Systems (GIS). A dynamic web mapserverhas been set up at Freie Universitaet Berlin in order toincrease usage of HRSC data in the scientific community- compliant to geospatial standards and ready-to-use inthe full range of GIS environments.The native HRSC data format is VICAR [4] whichposes several limitations when im-/exporting or fusingdata. We want to improve HRSC data interoperabilityby providing pre-processed data products, converted tocommon geospatial raster formats.Dynamic map server frontendThe HRSC products are made available by an opensource driven dynamic mapserver optimized for orbitsearch and direct file download at http://maps.planet.fuberlin.de. Its frontend is based on the OpenLayers framework and access to the image data is provided by aMapserver backend [5]. Two variants of the hillshadedMOLA dataset (grayscale and color-coded) are available as selectable base layers. The main query layerfor HRSC product downloads is based on the level 4footprints as described by Walter et al. [6]. By selecting an orbit footprint, a context window informs theuser about basic image properties (acquisition date, incidence/emission angles and the projection type with itsparameters) and the direct links to the product downloads. The mineralogical context can be blended in ondemand as transparent overlay layers of the OMEGAglobal maps [7]. As an alternative to using the webfrontend, the HRSC footprint geometries and attributescan be queried as a Web Feature Service (WFS) directlyfrom the backend. Layers of the HRSC global mosaicscurrently in preparation by McGuire et al. [8] will beadded as soon as they are ready for publication. Figure1 displays a browser screenshot showing the color-codedMOLA background and a selected HRSC orbit.Figure 1: Dynamic map frontend for orbit location and download. http://maps.planet.fu-berlin.deHRSC data interoperabilityThe Geospatial Data Abstraction Library (GDAL) is across-platform translator library for raster geospatial dataformats [9]. Data formats are implemented as formatspecific drivers, some of which rely on external libraries.GDAL provides the primary raster data access engine formany applications and it is the most widely used geospatial data access library. Since version 1.4 it is able toread PDS-based files, but the generic character of the format leads to a loss of important mission- or instrumentspecific meta-information during file access.With VICAR being the native file format for HRSC,the development of a GDAL driver for VICAR turns theconversion to modern raster file formats such as GeoTiff or GeoJP2000 into a one-step process while providing fine-grained control over the preservation of HRSC'sspacecraft- and instrument-specific metadata properties.The driver has been developed at Freie UniversitaetBerlin, partly based on code of GDAL's existing driverfor the PDS format. Current functionality is read accessof single- or multiband VICAR data, including DTMdata, with support for planetary projections and customdefined specific metadata in full compliance with theGDAL data model [10]. This enables elementary features of modern file formats during file access or con1088.pdf
45th Lunar and Planetary Science Conference (2014)
2version: the SRS and geotransform containment makesthe image appear at the exact position in the map view;the correctly chosen nodata value shows only valid pixelvalues in the GIS while rendering non-valid values transparent and excluding them from image operations or statistical calculations; the embedded statistics of the bandsshow them properly stretched without the need of timeconsuming calculation; pre-rendered in-image overviewsin reduced resolution (known as pyramids) allow forfast file access while panning and zooming; radiometricscale- and offset-values enable tracing back the originalradiance/reflectance values of the HRSC instrument calibration. Table 1 shows an excerpt of VICAR label entriesassigned to entities of the GDAL data model.Table 1: Metadata entries embedded in the downloadableHRSC product files in compliance with the GDAL data model.IMAGE STRUCTURE PROPERTIES:Spatial reference system (OpenGIS WKT)Affine geotransformData type/bit depthCompression typeRASTER BAND PROPERTIES:Nodata valueOffset/scale (reflectance or DTM height)Band statisticsReduced resolution overviews (pyramids)HRSC-SPECIFIC METADATA:Radiance/reflectance offset and scale factorsError/missing/overflow frame countsGeometric calibration file nameBest ground sampling distanceMacropixel sizeThree commonly used datasets of HRSC are precalculated from the archived level 4 products - thepanchromatic, highest-resolution nadir channel (up to12.5 m/px) in 8 bit (ND), the DTM referenced to theareoid in 16 bit (DA) and a color composite sharpenedby IHS-transformation as 24 bit data (IHS). While theND and the DA files are directly converted from theirVICAR-based archive products, the IHS files are preprocessed from the nadir and the red, green, blue channel (if available). The two datasets based on 8-bit bands(ND and IHS) are converted to GeoJP2000 by the useof GDAL's KakaduTM driver with a reversible (lossless)compression setting. As this driver has currently issueswith reversible compression quality in 16 bit, the GeoTiffdriver is used for the conversion of the DA product. Allthree products are ready for quantitative ingestion to GISenvironments pre-rendered with band statistics, nodatavalues, pyramids and complete geo-referencing. Original data values, SRS and meta information of the imagesequences or DTM properties are maintained. An example dataset for all three products from orbit 5288 isshown in Figure 2.a) NDb) DAc) IHSFigure 2: Converted HRSC data product (orbit 5288). a)panchromatic nadir image, b) DTM, height over areoid (colorcoded and shaded for illustration), c) pan-sharpened colorcomposite.OutlookFor the future, we aim at providing the DA product alsoin GeoJP2000 format as soon as the problem with theGDAL Kakadu driver is solved. After stabilization of thedriver code, we will submit it to the GDAL repository forpossible inclusion in the official code base. Photometrically and/or topographically corrected image products[11] are to be incorporated for download if required bythe community. Metadata filter options for HRSC dataproperties may be added for optimized data queries.AcknowledgementsThis work is supported by the German Space Agency(DLR Bonn), grant 50 QM 1301 (HRSC on Mars Express), on behalf of the German Federal Ministry of Economics and Technology. We thank the HRSC experimentteam at DLR Berlin and the HRSC operations team atESOC for their successful planning, acquisition and processing of the HRSC data.References[1] G. Neukum et al., ESA SP 1240 (2004), 17-35. [2] R.Jaumann et al., PSS 55 (2007), 928-952. [3] K. Gwinner et al.,EPSL 294 (2010), 506-519. [4] URL: www-mipl.jpl.nasa.gov/external/vicar.html. [5] S. H. G. Walter et al., LPS, 40, 2009,#1609. [6] S. H. G. Walter et al., EPSC, 2006, #508. [7] A.Ody et al., JGR Planets 117 (2012). [8] P. C. McGuire et al.,LPS (this conference), 45, 2014. [9] URL: www.osgeo.org. [10]URL: http://www.gdal.org/gdal datamodel.html. [11] S. Walteret al., LPS, 43, 2012, #2322.1088.pdf
45th Lunar and Planetary Science Conference (2014)
