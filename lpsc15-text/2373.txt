2373.PDF
AUTOTRIANGULATION: A NEW TOOL FOR CONTROLLING STEREO PAIRS TO LASER ALTIMETRY Aaron Kilgallon1, Jon Stephens1, Sarah Sutton1 and Joel Mueting1. 1Lunar and Planetary Laboratory,University of Arizona, Tucson, Arizona 85721 USA; akilgall@email.arizona.eduIntroduction: Currently operating orbital cameras, such as the High Resolution Imaging ScienceExperiment (HiRISE) [1] and Context Camera (CTX)[2] on the Mars Reconnaissance Orbiter (MRO), andthe Lunar Reconnaissance Orbiter Camera - NarrowAngle Camera (LROC NAC) [3], are returning stereoimages that are being used to make Digital TerrainModels (DTMs). The process used by many groups(e.g. [4, 5, 6]) incorporates a combination of theIntegrated Software for Imagers and Spectrometers(ISIS, http://isis.astrogeology.usgs.gov) and SOCETSET ( c�BAE Systems, Inc.) software, after the methoddescribed in [7]. The images are pre-processed inISIS, and then controlled in SOCET SET's interactiveinterface, Multi-Sensor Triangulation (MST). Thisprocess involves matching the image data to a set oflaser altimetry data from either the Mars Orbiter LaserAltimeter (MOLA) [8], for HiRISE or CTX, or LunarOrbiter Laser Altimeter (LOLA) [9] for LROC. To dothis manually requires a skilled operator, time, and acertain degree of subjectivity.To reduce the ambiguity of the process, and to quicklyquantify errors, we developed autoTriangulation, astandalone program that takes the DTM and the laseraltimetry and finds a best fit between the two. Theoutput of autoTriangulation includes updated groundpoint coordinates which can then be used to adjust thesolution within SOCET SET. autoTriangulation speedsup DTM production, provides consistent solutions, andreduces the extensive training time required for producers. We will make autoTriangulation freely available tothe community as a tool in DTM production.Inputs and Parameters: autoTriangulation runs onthe Windows command line interface. In its primarymode, the program expects three input arguments, inany order: a geotiff (exported DTM from SOCET SET),the laser track file (in .csv, .tab, or .dbf format), and theMST report file (.rep) from SOCET SET. Further parameters may be specified after these files. Enteringno arguments will display the program help documentation. There are a number of parameters that can beadjusted such as: the number of iterations, whether theproject is a HiRISE or LROC project (error mappingand the solution parameters are handled slightly differently), whether orbits are to be excluded from the laserdata, selection of a linear or a quadratic fit with respectto the laser data, as well as several statistical filteringand convergence parameters. Command line optionsare detailed in Table 1. The current version of autoTriangulation works only with projects in equirectangularcoordinate systems. Future updates will handle polarprojects.Algorithm: autoTriangulation applies iterative,least-squares minimization to deriving the final solutionfor the DTM. Error is calculated using the differencein elevation between the laser shot and correspondingcoordinate in the geotiff. The program has severalinternal functions that are implemented within eachstage: translational motion of the DTM, rotation ofthe DTM, and finally a linear or quadratic surface fitto the error between each data set. This procedure isthen repeated with a more constrained set of parametersfor each stage. This method does not guarantee globalconvergence of the fit, but the default parameters havebeen selected empirically to yield the best results.autoTriangulation also incorporates a statistical methodof handling the input laser altimetry data. In order toresolve systematic errors between conflicting tracks,autoTriangulation applies a weighting to each orbitused in the solution. This weighting is based on athreshold for the mean and standard deviation of thetrack errors. This method helps to improve the solutionin the event that inconsistent lidar data affects theconvergence of the solution.Outputs: The main output is a report of the updated coordinates for tie and control points, based on theSOCET SET ground point file. The report file also contains a list of the orbit IDs for the laser altimetry alongwith the statistical weighting, mean, and standard deviaTable 1: Command line options.Option Default TypeNumber of Stages 20 -s%dRMS Convergence 0.0001 m -c%fTranslation Increment 0.001�-d%fTranslation Range 0.035�-p%fLinear or Quadratic Fit Linear -lf or -qfHiRISE or LROC Project HiRISE -h or -lLOLA filtering (LROC only) Off -fLIDAR Orbit filtering None -of%d%d...Statistical Filtering Max Error 10 m -sfe%fStatistical Filtering Standard Deviation 7 m -sfd%fStatistical Filtering Remove Percent 5% -sfp%fSatistical Filtering Starting Stage No. Stages/4 -sfs%dAdd String to Output Filename Empty string -as%sDebug Mode Off -dm2373.pdf
46th Lunar and Planetary Science Conference (2015)
tion of the error for each orbit. These data can be used ifthe user decides to exclude certain orbits from any latersolutions. The coordinates can be updated in SOCETSET manually or by running another script to upate theground point file of the SOCET project. The user thendecides which coordinates to set as XYZ or Z control. Itis important to note that although the laser altimetry isbeing used to measure error, at no time are the coordinates from the laser tracks being used to create controlpoints, as they are in the manual method. autoTriangulation generates several maps and plots such as an errormap (Fig. 1), a map showing the coordinate translation, a map showing the weighting applied to each trackbased on the statistical filtering, and a gnuplot file foreach of these maps. The error map is color coded tothe difference (error) between the geotiff and each lasertrack. It includes a legend as well as the mean and standard deviation for the initial error map and the predictedsolution based on the updated coordinates.Results: Although running autoTriangulation andupdating the coordinates in SOCET SET is fairlystraightforward, the actual results in SOCET SET maynot agree exactly with the predicted solution. Thisis due to the different constraints (i.e. parametersset in MST) and the least-squares fitting that occurswithin SOCET SET. Figure 1 shows an example ofautoTriangulation's predicted solution as comparedto SOCET SET's final solution, which quite closelymatches the prediction. Our experience has shown thatthe best results come from terrain that is relatively flatand has abundant, consistent laser altimetry data. Inmost cases we are able to achieve ±5 m overall errorfor HiRISE projects, and ±2 m for LROC projects,with the mean near 0. The use of autoTriangulation hasbeen particularly helpful in controlling regional mosaicDTMs. For the project illustrated in Figure 1, timesaved was likely > 10 operator hours.Figure 1: Output plot from autoTriangulation showing initial error (left), predicted error from autoTriangulation output(center), and the final error after updating coordinates in SOCET SET (right) for a mosaic LROC DTM. Note that only thedifferences in elevation at each laser track are plotted. The ideal range for an LROC project is ± 2 m error, represented in yellow.Distribution: The installer, manual, and softwarewill be made available from the HiRISE OperationsCenter (HiROC) at the University of Arizona. The autoTriangulation Windows installer includes the dependent GnuPlot and GDAL libraries. If needed, the installer wizard will notify the user to download the Microsoft Visual C++ 2013 distributable package. Distribution of the follow-on script to update the coordinateswithin SOCET SET is planned.Conclusion: autoTriangulation has greatly reducedthe time needed for the triangulation stage of DTM production. Because it is automated, it allows for less experienced users to produce DTMs that are well controlledto the laser altimetry. The options available make autoTriangulation flexible enough to accommodate a rangeof project types and situations. This program, whichwill be freely distributed to the community, will enable more users to create accurate DTMs within theISIS/SOCET SET workflow. Although it is designedfor use with MRO/LRO data sets, it is general enoughthat it could potentially be extended to work with otherplanetary stereo image data.References: [1] A. S. McEwen, et al. (2007)JGR-Planets 112:E05S02 doi. [2] M. C. Malin, et al. (2007)JGR-Planets 112:E05S04 doi. [3] M. S. Robinson, et al.(2010) Space Sci Rev 150:81 doi. [4] S. Mattson, et al.(2011) in LPSC vol. 42 of LPI Technical Report 1558.[5] K. N. Burns, et al. (2012) ISPRS 483-488 doi. [6] E.Howington-Kraus, et al. (2015) LPSC, this conference.[7] R. L. Kirk, et al. (2008) JGR-Planets 113:E00A24 doi.[8] D. E. Smith, et al. (2001) JGR-Planets 106:23689 doi.[9] D. E. Smith, et al. (2010) Space Sci Rev 150:209 doi.2373.pdf
46th Lunar and Planetary Science Conference (2015)
	Introduction	Inputs and Parameters	Algorithm	Outputs	Results	Distribution	Conclusion	References