2139.PDF
MARSSIPULAMI: A DISTRIBUTED INFORMATION SYSTEM FOR MANAGING DATA OF THE SURFACE OF MARS.  L. Lozac’h1, C. Quantin-Nataf1, P. Allemand1, B. Bultel1, H. Clenet1, S. Harrisson1, D. Loizeau1, A. Ody1, P. Thollot1,  1 Laboratoire de Géologie de Lyon: Terre, Planètes, Environnements, Université Lyon 1/ENS Lyon/CNRS UMR 5271, 2, rue Raphaël Dubois, 69622 Villeurbanne cedex, France, Email : loic.lozach@univ-lyon1.fr    Introduction: Geological investigations of planetary surfaces are based on the exploitation of orbital data and often acquired with different remote sensing instruments. For Mars, for instance, the number of missions and instruments and the size of the datasets are so important that even at the scale of a single scientific team, an information system to manage data is more and more required.    The creation and exploitation of a database of Mars surface is part of the e-Mars project funded by the European Research Council (ERC), the aim of which is to decipher the geological evolution of the planet from the combination of Martian orbital data.  We have designed a distributed information system called MarsSIpulami to manage data from the four following Martian orbiters: Mars Global Surveyor (MGS), Mars Odyssey (ODY), Mars Express (MEX), and Mars Reconnaissance Orbiter (MRO). MarsSIpulami allows the user to select footprints of the data from a web-GIS interface and download them to a storage server. Then the user can process raw data via automatic calibrations and finally acquire “ready-to-use” data of Mars surface. “Ready-to-use” means that the data are ready to be visualized under Geographic Information System (GIS) or remote sensing softwares. An automatic stereo-restitution pipeline producing high resolution Digital Terrain Models (DTM) is also available.  Project’s development: MarsSIpulami has been developed using a Two Tracks Unified Process (2TUP) [1] which is an iterative software development process framework, that starts with the study of the functional needs of the end users, here the e-Mars team members. The functional architecture’s study has revealed that the team needed an easy to use web-GIS application for selecting, downloading and processing large amount of Mars imagery data. On the other hand, a technical architecture’s study is performed, and a Java based project has been retained with the following open source projects: Geomajas [2] for the web-GIS application, Spring [3] for the server-side services and dialog with the database, GeoServer [4] to publish images’ footprints, PostGreSQL [5] as database server with PostGIS [6] functionalities, TORQUE [7] as resource manager for jobs scheduling. The project disposes of a local storage server coupled with a compute cluster to launch the calibration scripts.  Application architecture: MarsSIpulami has been developed as a 3-tiers web application. The web-tier is based on Geomajas framework and coded with Google Web Toolkit (GWT) [8] libraries. The services-tier is based on Spring framework and provides the functionalities determined by the user’s needs. It communicates with the web-tier via Geomajas command pattern, and with the data-tier via Spring’s Data Access Object (DAO) pattern. The data-tier is a PostgreSQL database storing the input/output entities needed in the workflow of the application’s services. It also stores Mars imagery footprint’s geometry and attributes thanks to PostGIS functionalities.   Figure 1: MarsSIpulami architecture.  The basic workflow is the following: the footprints provided by the NASA Planetary Data System (PDS) [9] are published in WFS protocol from the PostGIS database by GeoServer. Geomajas makes them visible on screen via its web-GIS interface. The user is allowed to do searches and selections with the different GIS tools provided by Geomajas, and then the MarsSIpulami Services creates jobs on user’s demand. Those jobs scheduled are and launched by TORQUE on the compute cluster. These jobs can call any software installed on the compute cluster (ISIS3, IDL/ENVI, AMES Stereo Pipelines…). Both serverside and client-side have been simultaneously developed, they are adjustable so that the application can be regularly upgraded with new instrument data or new processing pipelines.  Functionalities: MarsSIpulami is divided in two parts, a map view and a workspace view. 2139.pdf
46th Lunar and Planetary Science Conference (2015)
Data selection: The map view (Figure 2) shows a map of Mars with the common GIS tools (zoom, identifying, measurement, selection and search), a layer view to show/hide on map the footprints available, and a table in which the user can add the selected footprints. This table shows image’s information as name, geometry, status and link to its PDS on-line label file.    Figure 2 : MarsSIpulami user interface – map view  Data processing: The workspace view (Figure 3) is divided in 5 tabs: cart view, download view, calibration view, projection view and stereo-restitution view. The cart view allows the user to check the localization of the added footprints on a map, to know the status of the data that are being processed and to copy the ready-touse data to a personal ftp account on the storage server.   Figure 3 : MarsSIpulami user interface – workspace view  If the data are not already stored on the local server, they appear in the download view, and the user can launch the download from the PDS server. Once the download is accomplished, the data appear in the calibration view. Once the calibration is done, the data appear in the projection view. The user can now launch the map-projection of the data.   To date, MarsSIpulami handles CTX, HiRISE and CRISM data of MRO mission, HRSC and OMEGA data of MEX mission and THEMIS data of ODY mission. CTX, HiRISE and THEMIS raw data are processed with ISIS3 functions. CRISM images are processed with the CRISM Analysis Toolkit (CAT) [10] and OMEGA data are processed with IDL pipelines (team released pipeline).   Stereo-restitution: The stereo-restitution pipeline is functional for HiRISE and CTX images. CTX and HiRISE possible DTM footprints are computed, according to the following constraints:  image couples with 60% width-overlapping and a minimum deviation of 10° in emission angle. It is user’s responsibility to check the quality of the stereo pairs, thanks to their PDS on-line label files. Then, the user can choose one or several stereo footprints from the map view and they appear in the stereo-restitution view. If the raw image couple is not stored on the local server, MarsSIpulami automatically adds the 2 images to the user’s cart and ask him to process the data before launching the stereorestitution application. A script inspired from Zack Moratto’s blog [11] has been written. This script uses the NASA Ames Stereo Pipeline toolkit to process the stereo images and automatically obtain DTM.  Conclusion: The teamwork engaged under the eMars project has allowed the creation of an application that fully matches the needs of our team of Martian geologists, allows the integration of new data processing chains, and offers standardized and distributed storage/compute resources. The application has also been designed to deal with other planetary targets. The next step of MarsSIpulami, the Martian surface database application, will be to open up to the Martian community.   Acknowledgements: This research received support from the European Research Council under the European Union's Seventh Framework Program (FP7/2007-2013)/ERC Grant agreement n° 280168.  References: [1] ROQUES P. and VALLEE F. UML 2 en action. EYROLLES, 4 ed., 2007, 382 p. [2]http://www.geomajas.org/ Geomajas website. [3]http://spring.io/ Spring website. [4]http://geoserver.org/ Geoserver website. [5]http://www.postgresql.org/ PostGreSQL website. [6]http://postgis.net/ PostGIS website. [7]http://www.adaptivecomputing.com/products/opensource/torque/ Torque website. [8]http://www.gwtproject.org/ GWT website [9]http://ode.rsl.wustl.edu/mars/indextools.aspx Mars Footprint Coverage Explorer. [10]http://geo.pds.nasa.gov/missions/mro/crism.htm#Tools CAT website. [11] MORATTO Z., Automatic production of HiRISE DEMs, 26 November 2012, http://lunokhod.org/?p=856. 2139.pdf
46th Lunar and Planetary Science Conference (2015)
